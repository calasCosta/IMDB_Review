<%- include('components/header') %>

<% for (let className in trainedData) { 
     let classData = trainedData[className]; %>
  <div class="card" style="margin-bottom:32px;">
    <h3>
      <span class="badge <%= className === 'positive' ? 'badge-positive' : 'badge-negative' %>">
        <%= className %>
      </span>
      <small style="color:#888;">Prior: <%= classData.priorProbability?.toFixed(4) %></small>
    </h3>

    <h4>Top Terms (Unigrams & Bigrams)</h4>
    <% for (let n in classData.topKPerN) { %>
      <b><%= n === "1" ? "Unigrams" : "Bigrams" %>:</b>
      <ul>
        <% classData.topKPerN[n].slice(0, 10).forEach(term => { %>
          <li>
            <b><%= term.name %></b>
            (TF-IDF: <%= term.tfidf?.toFixed(4) %>)
          </li>
        <% }) %>
      </ul>
    <% } %>

    <h4>IDF Values</h4>
    <% for (let n in classData.idfPerN) { %>
      <b><%= n === "1" ? "Unigrams" : "Bigrams" %>:</b>
      <ul>
        <% classData.idfPerN[n].slice(0, 10).forEach(term => { %>
          <li>
            <b><%= term.name %></b>
            (IDF: <%= term.idf?.toFixed(4) %>)
          </li>
        <% }) %>
      </ul>
    <% } %>

    <h4>Vocabulary Size</h4>
    <% for (let n in classData.vocabPerN) { %>
      <b><%= n === "1" ? "Unigrams" : "Bigrams" %>:</b>
      <span><%= classData.vocabPerN[n].length %> terms</span>
    <% } %>
  </div>
<% } %>

<%- include('components/footer') %>